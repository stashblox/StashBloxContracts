<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for contracts/lib/Lockable.sol</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../prettify.css" />
    <link rel="stylesheet" href="../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../index.html">all files</a> / <a href="index.html">contracts/lib/</a> Lockable.sol
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>12/12</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>2/2</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>9/9</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>12/12</span>
      </div>
    </div>
  </div>
  <div class='status-line high'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">124×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">240×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">120×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">120×</span>
<span class="cline-any cline-yes">116×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">// SPDX-License-Identifier: GPL-3.0-or-later
pragma solidity ^0.7.1;
&nbsp;
import "./Privatizable.sol";
&nbsp;
contract Lockable is Privatizable {
function c_0x6503ff7c(bytes32 c__0x6503ff7c) public pure {}
&nbsp;
&nbsp;
    /****************************
    EVENTS
    *****************************/
&nbsp;
&nbsp;
    event AccountUpdated(address indexed _account, uint256 _documentHash);
&nbsp;
&nbsp;
    /****************************
    EXTERNAL FUNCTIONS
    *****************************/
&nbsp;
    /**
     * @dev Function to unlock a token.
     * @param id The token ID
     */
    function setTokenLock(uint256 id, bool lock, uint256 documentHash) external onlyMaintener(id) {c_0x6503ff7c(0xbad676696bef3b42a267ade205937398eb8aefcc7d32b57ef11f67ee81505c5c); /* function */ 
&nbsp;
c_0x6503ff7c(0x2050d5c53b69bfeb8601472b0f16f2092469bcc659ed1c5e6278ad1b0991e468); /* line */ 
        c_0x6503ff7c(0x87b379c791b5b955d37d035b26b4b0fc535cf3f1e1a4f47d78b02e5e22bd42b2); /* statement */ 
_setTokenLock(id, lock, documentHash);
    }
&nbsp;
    /**
     * @dev Function to check if a token is locked.
     * @param id The token ID
     */
    function isLockedToken(uint256 id) external view returns (bool){c_0x6503ff7c(0xf1e6023eaca65a2ccdf4de0b68c0b4fd18aaac3e63896bf49c412cf54736dc5d); /* function */ 
&nbsp;
c_0x6503ff7c(0xdf24defb124d99f2b1073fadd3c7dcf9d985bdf7cec7c93137a5053a4ae2801c); /* line */ 
        c_0x6503ff7c(0xf47e35782080d0ed3d2cd79160baac59c760e8bf1654ce0b2fd457201173a328); /* statement */ 
return _isLockedToken(id);
    }
&nbsp;
    /**
     * @dev Function to unlock an address.
     * @param account The address to unlock
     */
    function setAccountLock(address account, bool lock, uint256 documentHash) external onlyOwner {c_0x6503ff7c(0x034747cdaeeb8d6e4e27e959834de50b508f1cca0be3cc666bb7474ef49c4a52); /* function */ 
&nbsp;
c_0x6503ff7c(0x4bac140f1543cfe5a6f20ca1eef53b7a479517261e02b1f6c63b0065547fa709); /* line */ 
        c_0x6503ff7c(0x568659be3c6bf428574d80d3c8efbc88b034f9a9fcf5b6ed1054a6dc1960e2d9); /* statement */ 
_accounts[account].isLocked = lock;
c_0x6503ff7c(0x0d6f03d1c4c0d4a125b848f4c9c6addf27b718b85aac016280544ba7eabe466b); /* line */ 
        c_0x6503ff7c(0xdc2242710611f51757b4e73d89c79ae4e7d8948bd4d592cd23d13417c694aca5); /* statement */ 
emit AccountUpdated(account, documentHash);
    }
&nbsp;
    /**
     * @dev Function to check if an address is lockec.
     * @param account The address to check
     */
    function isLockedAccount(address account) external view returns (bool){c_0x6503ff7c(0x9c0f7f1202689d00ec85597f7134e8295109cdb859dff09921577e625e487e82); /* function */ 
&nbsp;
c_0x6503ff7c(0xc4eacbd373cbe0db0ae740bef932bae6437561013fc153b51e0e6ce52a6553f9); /* line */ 
        c_0x6503ff7c(0x9460c818b70a6e68edd7492e1786cf45582d90ca4b9893c0ab61be4322df5190); /* statement */ 
return _isLockedAccount(account);
    }
&nbsp;
&nbsp;
    /****************************
    INTERNAL FUNCTIONS
    *****************************/
&nbsp;
&nbsp;
    function _setTokenLock(uint256 id, bool lock, uint256 documentHash) internal {c_0x6503ff7c(0xb64816dee3ba76df07b04febbd82cfb69bca0950716f836e8de643cf1557967b); /* function */ 
&nbsp;
c_0x6503ff7c(0x5c958c2d6c42a9c6c2da976a5b99f049bab5790870501d2cffc1e9040dbb3dad); /* line */ 
        c_0x6503ff7c(0x4d2825a84fba13367c64ba4887b370fdf1d114334a790e4fda140569b1dd722b); /* statement */ 
_tokens[id].locked = lock;
c_0x6503ff7c(0x6d51892421bd4b80ee829d4d5fda6f22895dcbb437533d287bf234aee4874682); /* line */ 
        c_0x6503ff7c(0xc4ee9a529eb2b1f0f74e84ae5bdb9ec7e4d5b6ff035de2551b11c11ce50de16c); /* statement */ 
emit TokenUpdated(id, documentHash);
    }
&nbsp;
    function _isLockedToken(uint256 id) internal view returns (bool) {c_0x6503ff7c(0xf83b0b7a1b5bcbbb455ed77838e274e79eb285f08b526255a77e65adb50fc163); /* function */ 
&nbsp;
c_0x6503ff7c(0x82d26d9971f9a36157d9e86e546c616077ca72c4e2dba68b6d9c1ca1540d8770); /* line */ 
        c_0x6503ff7c(0x5ad442e749627e8f1377bb02a95b6087144edfe43081cd873d1dcfcd8641545b); /* statement */ 
return _tokens[id].locked;
    }
&nbsp;
    function _isLockedAccount(address account) internal view returns (bool) {c_0x6503ff7c(0x766acbbb5b6ebe0bfe1b98305f7a79735aee8676d22e37e1f70c975dea734e8a); /* function */ 
&nbsp;
c_0x6503ff7c(0xd1e58ee847a4b32bed36d042410aa6979debdfa3680227082d87d8fb1fbd31dd); /* line */ 
        c_0x6503ff7c(0x784ac9c9a489466fa73e37d495af6a3c00fbfd70cf892933e29d86818af7a0c7); /* statement */ 
return _accounts[account].isLocked;
    }
&nbsp;
    function _isLockedMove(address from, address to, uint256 id, uint256 value) internal view returns (bool) {c_0x6503ff7c(0xf8394edd1da132bd085c9038c120a47ea3d50ac3843aac48ac5915fa8bfe6589); /* function */ 
&nbsp;
c_0x6503ff7c(0xfffea787e1f1d140f75defc4d0d8a4735f3de9df095d71a6c734accb1bdefa6a); /* line */ 
        c_0x6503ff7c(0xc8b0079fcffb613d57abbd19e46e32e0ce8ef64cfffd656105b4ff86da458be6); /* statement */ 
return _isLockedToken(id) || _isLockedAccount(from) || _isLockedAccount(to) || (value == 0);
    }
&nbsp;
    // override ChargeableTransfer._moveTokens
    function _moveTokens(address operator, address from, address to, uint256 id, uint256 value) internal override returns (uint256 fees) {c_0x6503ff7c(0xafe99c52a434e44ffb1ba10efdfc8becdc2855266d720ac08d5ac992695ae2a0); /* function */ 
&nbsp;
c_0x6503ff7c(0xf66e856ec55e88d508f4456870a3a571f9a55b46cc657039e36199c3a673541a); /* line */ 
        c_0x6503ff7c(0x2ea1c4d9b520612c0cf70888a00045442117f243bbc04d25725f807720d3b130); /* assertPre */ 
c_0x6503ff7c(0x4c694c0ceb7c3461bf7aa0c810995e379e21c2abeda46870c907e6e87be9e789); /* statement */ 
require(!_isLockedMove(from, to, id, value), "Locked");c_0x6503ff7c(0x03168981b4f0ad4cc783e1f49dc066eaf0eb1049dc72769bd249e3700d6e051b); /* assertPost */ 
&nbsp;
c_0x6503ff7c(0xcf0406c76d2d45f63da14a3ee63e59c116187c4f3a87a11e7ef687e9cdb2ca94); /* line */ 
        c_0x6503ff7c(0x387d7757fabc37364b81165226286e19c9fe160ee5f2addf2ed85a9d27e4539e); /* statement */ 
return super._moveTokens(operator, from, to, id, value);
    }
}
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Fri Oct 30 2020 18:47:50 GMT+0100 (GMT+01:00)
</div>
</div>
<script src="../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../sorter.js"></script>
</body>
</html>
